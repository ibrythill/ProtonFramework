/**
 * protonThemes Custom Fields JavaScript
 *
 * All JavaScript logic for fields in the post meta box.
 * @since 2.2.3
 *
 */
(function ($) {
/**
 * setup_colourpickers()
 *
 * @since 2.2.3
 */
protonFieldMethods.select = {
 	_init: function(element){
		element = element.find('.proton_input_select');
	 	var default_params = {
            width: 'resolve',
            triggerChange: true,
            allowClear: true
        };
        if ( element.attr('multiple') == "multiple" ) {
            default_params.width = "100%";
        }

        element.select2( default_params );

        if ( element.hasClass( 'select2-sortable' ) ) {
            default_params = {};
            default_params.bindOrder = 'sortableStop';
            default_params.sortableOptions = {placeholder: 'ui-state-highlight'};
            element.select2Sortable( default_params );
        }

        element.on(
            "change", function() {
                $( this ).select2SortableOrder();
            }
        );
	},
	_destroy: function(element){
		element.find('.proton_input_select').select2("destroy");
	}
};

	$(document).ready(function () {

		$('.proton-field-type-select').each(function() {

				protonFieldMethods.select._init($(this));

		});

	});

})(jQuery);