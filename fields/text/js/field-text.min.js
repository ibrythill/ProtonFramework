/**
 * protonThemes Custom Fields JavaScript
 *
 * All JavaScript logic for fields in the post meta box.
 * @since 2.2.3
 *
 */
(function ($) {
/**
 * setup_wordcounters()
 *
 * @since 2.2.3
 */

	$(document).ready(function () {

		if ( $( '.words-count' ).length ) {
	 		$( '.words-count' ).find('input,textarea').each( function() {
				var s = ''; var s2 = '';
			    var length = $( this ).val().length;
			    var w_length = $( this ).val().split(/\b[\s,\.-:;]*/).length;

			    if( length != 1 ) { s = 'i'; }
			    if( w_length != 1 ) { s2 = ''; }
			    if( $( this ).val() == '' ) { s2 = ''; w_length = '0'; }

			    $( this ).parent().parent().find( '.counter' ).html( length + ' znak'+ s + ', ' + w_length + ' słów' + s2 );

			    $( this ).keyup( function() {
			    var s = ''; var s2 = '';
			        var new_length = $( this ).val().length;
			        var word_length = $( this ).val().split(/\b[\s,\.-:;]*/).length;

			        if( new_length != 1 ) { s = 'i'; }
			        if( word_length != 1 ){ s2 = ''; }
			        if( $( this ).val() == '' ) { s2 == ''; word_length = '0';}

			        $( this ).parent().parent().find( '.counter' ).html( new_length + ' znak' + s + ', ' + word_length + ' słów' + s2 );
			    });
			});
		}

	});

})(jQuery);