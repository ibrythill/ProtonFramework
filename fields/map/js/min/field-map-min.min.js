!function($){protonFieldMethods.map={_init:function(e){function o(e,o,t){var n=t;return c&&(c.setMap(null),c=null),c=new google.maps.Marker({position:e,map:s,zIndex:Math.round(-1e5*e.lat())<<5}),google.maps.event.addListener(c,"click",function(){}),google.maps.event.trigger(c,"click"),c}function t(e,o,t){var n=t,a=new google.maps.Marker({position:e,map:s,zIndex:Math.round(-1e5*e.lat())<<5});return google.maps.event.addListener(a,"click",function(){}),google.maps.event.trigger(a,"click"),a}function n(e){m.geocode({latLng:e},function(e){e&&e.length>0?i.val(e[0].formatted_address):i.val("Cannot determine address at this location.")})}function a(){var e=new google.maps.LatLng(g.val(),r.val());n(e);var t={zoom:p,center:e,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},navigationControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]};s=new google.maps.Map(document.getElementById(l.attr("id")),t),o(e,"Property Location",""),formlat=e.lat(),g.val(e.lat()),formlng=e.lng(),r.val(e.lng()),google.maps.event.addListener(s,"click",function(){v.close()}),google.maps.event.addListener(s,"click",function(e){var t=e.latLng;o(t,"Property Location",""),formlat=e.latLng.lat(),g.val(e.latLng.lat()),formlng=e.latLng.lng(),r.val(e.latLng.lng()),n(t)})}var l=e.find(".proton_map_canvas"),g=e.find(".proton_lat"),r=e.find(".proton_lng"),i=e.find(".proton_address"),p=parseInt(l.attr("data-zoom")),s=null,c=null,m=new google.maps.Geocoder,d={types:["(cities)"]},f=new google.maps.places.Autocomplete(i[0]);google.maps.event.addListener(f,"place_changed",function(){var e=f.getPlace(),t=new google.maps.LatLng(e.geometry.location.lat(),e.geometry.location.lng());o(t,e,""),formlat=e.geometry.location.lat(),g.val(e.geometry.location.lat()),formlng=e.geometry.location.lng(),r.val(e.geometry.location.lng()),s.setCenter(e.geometry.location),0!=e.length&&s.setZoom(p)});var v=new google.maps.InfoWindow({size:new google.maps.Size(150,50)});a()},_destroy:function(e){}},$(".proton-field-type-map").each(function(){protonFieldMethods.map._init($(this))})}(jQuery);